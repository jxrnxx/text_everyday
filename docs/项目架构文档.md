# Dota 2 è‡ªå®šä¹‰æ¸¸æˆé¡¹ç›®æ¶æ„æ€»è§ˆ

> æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»é¡¹ç›®çš„æŠ€æœ¯æ¶æ„ã€æ ¸å¿ƒç³»ç»Ÿã€æ•°å€¼é…ç½®å’Œå¼€å‘æµç¨‹ã€‚

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
d:\text_everyday\
â”œâ”€â”€ game/scripts/src/          # æœåŠ¡ç«¯ TypeScript ä»£ç 
â”‚   â”œâ”€â”€ GameMode.ts            # ğŸ® ä¸»å…¥å£ï¼Œæ¸¸æˆç”Ÿå‘½å‘¨æœŸç®¡ç†
â”‚   â”œâ”€â”€ systems/               # æ ¸å¿ƒç³»ç»Ÿæ¨¡å—
â”‚   â”œâ”€â”€ mechanics/             # æ¸¸æˆæœºåˆ¶ï¼ˆç»æµç³»ç»Ÿï¼‰
â”‚   â”œâ”€â”€ abilities/             # æŠ€èƒ½å®šä¹‰
â”‚   â”œâ”€â”€ modifiers/             # Modifier æ•ˆæœ
â”‚   â”œâ”€â”€ items/                 # ç‰©å“é€»è¾‘
â”‚   â”œâ”€â”€ config/                # å¼€å‘é…ç½®
â”‚   â”œâ”€â”€ json/                  # JSON æ•°æ®é…ç½®
â”‚   â””â”€â”€ utils/                 # å·¥å…·åº“
â”œâ”€â”€ content/panorama/src/      # å®¢æˆ·ç«¯ Panorama UI (React TSX)
â”‚   â””â”€â”€ hud/                   # ä¸»ç•Œé¢ç»„ä»¶
â”œâ”€â”€ shared/                    # å‰åç«¯å…±äº«ç±»å‹å®šä¹‰
â”œâ”€â”€ excels/                    # Excel æ•°æ®è¡¨ï¼ˆæ•°å€¼é…ç½®æºï¼‰
â””â”€â”€ scripts/                   # æ„å»ºè„šæœ¬
```

---

## ğŸ® æ ¸å¿ƒç³»ç»Ÿæ¶æ„

### 1. GameMode.ts - æ¸¸æˆä¸»å…¥å£
**æ–‡ä»¶**: [GameMode.ts](file:///d:/text_everyday/game/scripts/src/GameMode.ts)

ä¸»è¦èŒè´£ï¼š
- **åˆå§‹åŒ–æ‰€æœ‰å­ç³»ç»Ÿ**ï¼šç»æµã€å±æ€§ã€é˜¶ä½ã€å‡çº§ã€æ³¢æ¬¡ç­‰
- **ç®¡ç†æ¸¸æˆç”Ÿå‘½å‘¨æœŸ**ï¼šå¼€å§‹ã€é‡å¯ã€ç»“æŸ
- **æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨**ï¼šNPCå‡ºç”Ÿã€æ­»äº¡ã€èŠå¤©å‘½ä»¤
- **Filter ç³»ç»Ÿ**ï¼šä¼¤å®³è¿‡æ»¤ã€ç»éªŒè¿‡æ»¤

```mermaid
graph TD
    A[GameMode.Activate] --> B[EconomySystem]
    A --> C[CustomStats]
    A --> D[RankSystem]
    A --> E[UpgradeSystem]
    A --> F[WaveManager]
    A --> G[AbilityShopManager]
    A --> H[KnapsackSystem]
    A --> I[DamageSystem]
```

---

### 2. CustomStats - è‡ªå®šä¹‰å±æ€§ç³»ç»Ÿ
**æ–‡ä»¶**: [CustomStats.ts](file:///d:/text_everyday/game/scripts/src/systems/CustomStats.ts)

#### æ ¸å¿ƒå±æ€§ (HeroStats)
| å±æ€§ | ä¸­æ–‡å | è¯´æ˜ |
|------|--------|------|
| `constitution` | æ ¹éª¨ | å½±å“ç”Ÿå‘½å€¼ |
| `martial` | æ­¦é“ | å½±å“æ”»å‡»åŠ› |
| `divinity` | ç¥å¿µ | å½±å“æ³•åŠ›å€¼ |
| `agility` | èº«æ³• | å½±å“æ”»é€Ÿ/ç§»é€Ÿ |
| `rank` | é˜¶ä½ | 0=å‡¡èƒ, 1=è§‰é†’, 2=å®—å¸ˆ, 3=åŠç¥, 4=ç¥è¯, 5=ç¦å¿Œ |
| `display_level` | æ˜¾ç¤ºç­‰çº§ | ç•Œé¢æ˜¾ç¤ºçš„ç­‰çº§ |
| `lifesteal` | å¸è¡€ç‡ | ç™¾åˆ†æ¯” |
| `armor_pen` | æŠ¤ç”²ç©¿é€ | å›ºå®šå€¼ |
| `life_on_hit` | å‡»ä¸­å›è¡€ | æ¯æ¬¡æ”»å‡»å›å¤ç”Ÿå‘½ |

#### ç»éªŒå…¬å¼
```typescript
// å‡çº§æ‰€éœ€ç»éªŒ
GetExpRequiredForLevel(level: number): number {
    return 100 + level * 30 + (level * level * 5);
}
```

---

### 3. RankSystem - é˜¶ä½ç³»ç»Ÿ
**æ–‡ä»¶**: [RankSystem.ts](file:///d:/text_everyday/game/scripts/src/systems/RankSystem.ts)

#### é˜¶ä½è¿›é˜¶è§„åˆ™
| Rank | åç§° | ç­‰çº§ä¸Šé™ | ä¿¡ä»°æ¶ˆè€— |
|------|------|----------|----------|
| 0 | å‡¡èƒ | 10çº§ | - |
| 1 | è§‰é†’ | 20çº§ | 100 |
| 2 | å®—å¸ˆ | 30çº§ | 200 |
| 3 | åŠç¥ | 40çº§ | 300 |
| 4 | ç¥è¯ | 50çº§ | 400 |
| 5 | ç¦å¿Œ | 50çº§(ä¸Šé™) | 500 |

```typescript
// ç­‰çº§ä¸Šé™å…¬å¼
MaxLevel = Math.min((Rank + 1) * 10, 50)

// ä¿¡ä»°æ¶ˆè€—å…¬å¼
FaithCost = 100 * (Rank + 1)
```

---

### 4. UpgradeSystem - ä¿®ç‚¼å•†åŸç³»ç»Ÿ
**æ–‡ä»¶**: [UpgradeSystem.ts](file:///d:/text_everyday/game/scripts/src/systems/UpgradeSystem.ts)

#### 8ä¸ªå¢ƒç•Œé…ç½®
| å¢ƒç•Œ | ä»·æ ¼/æ ¼ | è§£é”æ¡ä»¶ |
|------|---------|----------|
| å…¥é—¨å¢ƒ | 200 | Rank 0 |
| è§‰é†’å¢ƒ | 800 | Rank 1 |
| å®—å¸ˆå¢ƒ | 2,500 | Rank 2 |
| ç ´ç»½å¢ƒ | 6,500 | Rank 3 |
| è¶…å‡¡å¢ƒ | 18,000 | Rank 4 |
| å…¥åœ£å¢ƒ | 50,000 | Rank 5 |
| ç¥åº§å¢ƒ | 150,000 | Rank 5+ |
| ç¦å¿Œå¢ƒ | 500,000 | Rank 5+ |

æ¯ä¸ªå¢ƒç•ŒåŒ…å« **8ä¸ªå±æ€§æ ¼å­**ï¼šæ ¹éª¨ã€æ­¦é“ã€ç¥å¿µã€èº«æ³•ã€æ”»é€Ÿã€å¸è¡€ã€ç ´å†›ã€æŠ¤ç©¿ç­‰ã€‚

---

### 5. WaveManager - æ³¢æ¬¡ç®¡ç†ç³»ç»Ÿ
**æ–‡ä»¶**: [WaveManager.ts](file:///d:/text_everyday/game/scripts/src/systems/WaveManager.ts)

#### æ—¶é—´è½´é…ç½®
- **å‡†å¤‡æœŸ**: 150ç§’ (2:30)
- **å‡ºæ€ªæ—¶é•¿**: 20ç§’
- **ä¼‘æ•´æ—¶é—´**: 70ç§’
- **æ³¢æ¬¡é—´éš”**: 90ç§’

#### 20æ³¢æ¬¡é…ç½®
- æ³¢æ¬¡ 1-4: æ™®é€šæ€ª
- æ³¢æ¬¡ 5: Bossæ³¢ (å°æ€ª+Boss)
- æ³¢æ¬¡ 6-9: æ™®é€šæ€ª
- æ³¢æ¬¡ 10: Bossæ³¢
- æ³¢æ¬¡ 11-14: æ™®é€šæ€ª
- æ³¢æ¬¡ 15: Bossæ³¢
- æ³¢æ¬¡ 16-19: æ™®é€šæ€ª
- **æ³¢æ¬¡ 20**: æœ€ç»ˆBoss (Boss + 4æŠ¤å«)

---

### 6. EconomySystem - ç»æµç³»ç»Ÿ
**æ–‡ä»¶**: [EconomySystem.ts](file:///d:/text_everyday/game/scripts/src/mechanics/EconomySystem.ts)

#### è´§å¸ç±»å‹
| è´§å¸ | ç”¨é€” |
|------|------|
| çµçŸ³ (spirit_coin) | è´­ä¹°æŠ€èƒ½ã€å‡çº§å±æ€§ |
| ä¿¡ä»° (faith) | é˜¶ä½çªç ´ |
| æˆ˜é­‚ (defender_points) | å®ˆå®¶ç§¯åˆ† |

åˆå§‹çµçŸ³: **200**

---

## ğŸ“Š æ•°æ®é…ç½®æ¥æº

### JSON é…ç½® (è¿è¡Œæ—¶è¯»å–)
| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| [npc_heroes_custom.json](file:///d:/text_everyday/game/scripts/src/json/npc_heroes_custom.json) | è‹±é›„å±æ€§é…ç½® |
| [npc_units_custom.json](file:///d:/text_everyday/game/scripts/src/json/npc_units_custom.json) | å•ä½/æ€ªç‰©é…ç½® |
| [npc_abilities_custom.json](file:///d:/text_everyday/game/scripts/src/json/npc_abilities_custom.json) | æŠ€èƒ½é…ç½® |
| [npc_items_custom.json](file:///d:/text_everyday/game/scripts/src/json/npc_items_custom.json) | ç‰©å“é…ç½® |

### Excel æ•°æ®è¡¨ (æ•°å€¼è®¾è®¡æº)
| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| è‹±é›„è¡¨.xlsx | è‹±é›„åŸºç¡€å±æ€§ |
| å•ä½è¡¨.xlsx | æ€ªç‰©å±æ€§/æ‰è½ |
| åˆ·æ€ªè¡¨.xlsx | æ³¢æ¬¡åˆ·æ€ªé…ç½® |
| ç‰©å“è¡¨.xlsx | ç‰©å“å±æ€§ |
| æŠ€èƒ½è¡¨.xlsx | æŠ€èƒ½å‚æ•° |

---

## ğŸ¨ å‰ç«¯ UI ç»„ä»¶

### Panorama React æ¶æ„
**ç›®å½•**: [content/panorama/src/hud/](file:///d:/text_everyday/content/panorama/src/hud)

| ç»„ä»¶ | åŠŸèƒ½ |
|------|------|
| [HeroHUD.tsx](file:///d:/text_everyday/content/panorama/src/hud/HeroHUD.tsx) | åº•éƒ¨è‹±é›„ä¿¡æ¯æ  |
| [TopHUD.tsx](file:///d:/text_everyday/content/panorama/src/hud/TopHUD.tsx) | é¡¶éƒ¨çŠ¶æ€æ  |
| [MerchantShopPanel.tsx](file:///d:/text_everyday/content/panorama/src/hud/MerchantShopPanel.tsx) | ä¿®ç‚¼å•†åŸç•Œé¢ |
| [AbilityShopPanel.tsx](file:///d:/text_everyday/content/panorama/src/hud/AbilityShopPanel.tsx) | æŠ€èƒ½å•†åº—ç•Œé¢ |
| [KnapsackPanel.tsx](file:///d:/text_everyday/content/panorama/src/hud/KnapsackPanel.tsx) | èƒŒåŒ…ç•Œé¢ |

---

## ğŸ”Œ å‰åç«¯é€šä¿¡

### å…±äº«ç±»å‹å®šä¹‰
**ç›®å½•**: [shared/](file:///d:/text_everyday/shared)

#### æ¸¸æˆäº‹ä»¶ (gameevents.d.ts)
```typescript
// å®¢æˆ·ç«¯ -> æœåŠ¡ç«¯
cmd_c2s_train_enter: {}           // è¿›å…¥è®­ç»ƒå®¤
cmd_merchant_purchase: {...}       // è´­ä¹°å±æ€§
cmd_attempt_rank_up: {}           // å°è¯•çªç ´

// æœåŠ¡ç«¯ -> å®¢æˆ·ç«¯
economy_update: {...}             // ç»æµæ›´æ–°
custom_stats_update: {...}        // å±æ€§æ›´æ–°
wave_state_changed: {...}         // æ³¢æ¬¡çŠ¶æ€
```

#### NetTable (net_tables.d.ts)
```typescript
economy: { spirit_coin, faith }   // ç©å®¶ç»æµ
upgrade_system: {...}             // å•†åŸæ•°æ®
wave_state: {...}                 // æ³¢æ¬¡çŠ¶æ€
knapsack: {...}                   // èƒŒåŒ…æ•°æ®
```

---

## ğŸ› ï¸ è°ƒè¯•å‘½ä»¤

åœ¨æ¸¸æˆå†…èŠå¤©æ¡†è¾“å…¥ï¼š

| å‘½ä»¤ | åŠŸèƒ½ |
|------|------|
| `-skip` | è·³åˆ°ä¸‹ä¸€æ³¢ |
| `-wave 5` | è·³è½¬åˆ°ç¬¬5æ³¢ |
| `-killall` | æ€æ­»æ‰€æœ‰æ•Œäºº |
| `-lvlup 10` | å‡10çº§ |
| `-gold 9999` | æ·»åŠ çµçŸ³+ä¿¡ä»° |
| `-faith 1000` | æ·»åŠ ä¿¡ä»° |
| `-start` | å¼ºåˆ¶å¼€å§‹æ¸¸æˆ |

---

## ğŸš€ å¼€å‘æµç¨‹

1. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**: `yarn dev` (å·²è¿è¡Œ)
2. **ä¿®æ”¹ä»£ç **: TypeScript è‡ªåŠ¨ç¼–è¯‘
3. **æ¸¸æˆå†…é‡è½½**: èŠå¤©è¾“å…¥ `r` æˆ– `restart`

### é…ç½®å¼€å‘è‹±é›„
**æ–‡ä»¶**: [DevConfig.ts](file:///d:/text_everyday/game/scripts/src/config/DevConfig.ts)
```typescript
export const DEV_HERO = 'npc_dota_hero_juggernaut'; // å‰‘åœ£
// export const DEV_HERO = 'npc_dota_hero_marci';   // ç›è¥¿
```

---

## ğŸ“ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ª**ä¿®ä»™/å¡”é˜²**ç±»å‹çš„ Dota 2 è‡ªå®šä¹‰æ¸¸æˆï¼Œæ ¸å¿ƒç©æ³•ï¼š
1. ç©å®¶æ§åˆ¶è‹±é›„åœ¨åŸºåœ°é˜²å®ˆæ€ªç‰©æ³¢æ¬¡
2. å‡»æ€æ€ªç‰©è·å¾—çµçŸ³å’Œä¿¡ä»°
3. é€šè¿‡ä¿®ç‚¼å•†åŸè´­ä¹°å±æ€§æå‡
4. ç­‰çº§æ»¡åæ¶ˆè€—ä¿¡ä»°è¿›è¡Œé˜¶ä½çªç ´
5. æœ€ç»ˆå‡»è´¥ç¬¬20æ³¢æœ€ç»ˆBossè·èƒœ

---

## ğŸ”§ å·¥å…·ç±»è¯¦è§£

### 1. Event äº‹ä»¶ç³»ç»Ÿ
**æ–‡ä»¶**: [event.lua](file:///d:/text_everyday/game/scripts/src/utils/event.lua) + [event.d.ts](file:///d:/text_everyday/game/scripts/src/utils/event.d.ts)

åŠŸèƒ½ï¼šå‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„äº‹ä»¶æ€»çº¿ï¼Œç”¨äºæ¨¡å—é—´è§£è€¦é€šä¿¡ã€‚

```typescript
// æ³¨å†Œäº‹ä»¶ç›‘å¬
Event.on('æ€ªç‰©-æ­»äº¡', (data) => {
    print(`æ€ªç‰©è¢«å‡»æ€: ${data.entindex_killed}`);
});

// å‘é€äº‹ä»¶
Event.send('æ€ªç‰©-æ­»äº¡', { entindex_killed: entity.GetEntityIndex() });
```

### 2. Pool æƒé‡æ± 
**æ–‡ä»¶**: [pool.lua](file:///d:/text_everyday/game/scripts/src/utils/pool.lua) + [pool.d.ts](file:///d:/text_everyday/game/scripts/src/utils/pool.d.ts)

åŠŸèƒ½ï¼šæƒé‡éšæœºæŠ½å–ï¼Œé€‚ç”¨äºæ‰è½è¡¨ã€æŠ½å¥–ã€‚

```typescript
const pool = new Pool<string>();
pool.add('æ™®é€šè£…å¤‡', 70);  // 70% æ¦‚ç‡
pool.add('ç¨€æœ‰è£…å¤‡', 25);  // 25% æ¦‚ç‡
pool.add('ä¼ è¯´è£…å¤‡', 5);   // 5% æ¦‚ç‡

const item = pool.draw();  // æŒ‰æƒé‡éšæœºæŠ½å–
```

### 3. Tween è¡¥é—´åŠ¨ç”»
**æ–‡ä»¶**: [tween_lib.lua](file:///d:/text_everyday/game/scripts/src/utils/tween_lib.lua) + [tween.d.ts](file:///d:/text_everyday/game/scripts/src/utils/tween.d.ts)

åŠŸèƒ½ï¼šæ•°å€¼/ä½ç½®å¹³æ»‘è¿‡æ¸¡ï¼Œå¤šç§ç¼“åŠ¨å‡½æ•°ã€‚

---

## ğŸš€ å¢å¼ºæ¡†æ¶è¯¦è§£

### CDOTA_BaseNPC æ‰©å±•æ–¹æ³•
**æ–‡ä»¶**: [CDOTA_BaseNPC.ts](file:///d:/text_everyday/game/scripts/src/enhance/CDOTA_BaseNPC.ts)

| æ–¹æ³• | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| `GetCustomValue(key)` | è·å–è‡ªå®šä¹‰å€¼ | `hero.GetCustomValue('_heroStats')` |
| `SetCustomValue(key, value)` | è®¾ç½®è‡ªå®šä¹‰å€¼ | `hero.SetCustomValue('rank', 1)` |
| `Mover(target, time)` | å¹³æ»‘ç§»åŠ¨åˆ°ç›®æ ‡ç‚¹ | `unit.Mover(targetPos, 0.5)` |
| `Pause(time)` | æš‚åœå•ä½ | `unit.Pause(2)` å®šèº«2ç§’ |
| `GetMinDistanceUnit(range)` | è·å–æœ€è¿‘æ•Œäºº | `hero.GetMinDistanceUnit(600)` |
| `RoundAOE(radius, pos, callback)` | åœ†å½¢AOE | `hero.RoundAOE(300, pos, ApplyDamage)` |
| `SafetyRemoveSelf()` | å®‰å…¨ç§»é™¤å•ä½ | ç§»åˆ°åœºå¤–+å¼ºæ€+å‘é€äº‹ä»¶ |
| `RecoverBlood(value)` | æ¢å¤ç”Ÿå‘½(å¸¦ç‰¹æ•ˆ) | `hero.RecoverBlood(100)` |
| `AddMaxBaseHealth(value)` | å¢åŠ æœ€å¤§ç”Ÿå‘½ | `hero.AddMaxBaseHealth(500)` |
| `AddBaseDamage(value)` | å¢åŠ åŸºç¡€æ”»å‡» | `hero.AddBaseDamage(50)` |

### å…¨å±€å·¥å…·å‡½æ•°
**æ–‡ä»¶**: [global.ts](file:///d:/text_everyday/game/scripts/src/enhance/global.ts)

| å‡½æ•° | ç”¨é€” |
|------|------|
| `AngleToVector(angle)` | è§’åº¦è½¬å‘é‡ |
| `RotateVector2D(v, angle)` | æ—‹è½¬2Då‘é‡ |
| `GetRotateVectors(forward, count, interval)` | ç”Ÿæˆæ‰‡å½¢å‘é‡ç»„ |
| `Bezier2(points, t)` | 2é˜¶è´å¡å°”æ›²çº¿ |
| `Bezier3(points, t)` | 3é˜¶è´å¡å°”æ›²çº¿ |
| `deepClone(obj)` | æ·±æ‹·è´ |
| `IsValid(handle)` | åˆ¤æ–­handleæœ‰æ•ˆæ€§ |
| `FindNearestWalkablePoint(pos, radius)` | æŸ¥æ‰¾å¯è¡Œèµ°ç‚¹ |
| `CreateParticleToPoint(path, attach, pos)` | åˆ›å»ºç‰¹æ•ˆ |
| `SetPlayerSys(id, key, value)` | è®¾ç½®ç©å®¶å­ç³»ç»Ÿ |
| `GetPlayerSys(id, key)` | è·å–ç©å®¶å­ç³»ç»Ÿ |

---

## âš”ï¸ ä¼¤å®³ç³»ç»Ÿè¯¦è§£
**æ–‡ä»¶**: [DamageSystem.ts](file:///d:/text_everyday/game/scripts/src/systems/DamageSystem.ts)

### ä¼¤å®³å¤„ç†é“¾

```mermaid
graph LR
    A[åŸå§‹ä¼¤å®³] --> B[æŠ¤ç”²ç©¿é€]
    B --> C[æš´å‡»è®¡ç®—]
    C --> D[æœ€ç»ˆä¼¤å®³]
    D --> E[å¸è¡€å¤„ç†]
    D --> F[æ”»å‡»å›è¡€]
    D --> G[ä¼¤å®³æ˜¾ç¤ºäº‹ä»¶]
```

### æ ¸å¿ƒå…¬å¼

| æœºåˆ¶ | å…¬å¼ |
|------|------|
| æŠ¤ç”²å‡ä¼¤ | `reduction = armor * 0.052 / (1 + abs(armor) * 0.052)` |
| æœ‰æ•ˆæŠ¤ç”² | `effectiveArmor = max(0, targetArmor - armorPen)` |
| æš´å‡»ä¼¤å®³ | `damage * (critDamage / 100)` |
| å¸è¡€å›å¤ | `damage * lifestealPercent / 100` |

---

## ğŸ’ èƒŒåŒ…ç³»ç»Ÿè¯¦è§£
**æ–‡ä»¶**: [KnapsackSystem.ts](file:///d:/text_everyday/game/scripts/src/systems/KnapsackSystem.ts)

### å­˜å‚¨ç»“æ„

| ç±»å‹ | å®¹é‡ | å¸ƒå±€ |
|------|------|------|
| å…¬ç”¨ä»“åº“ | 16æ ¼ | 2è¡Œ Ã— 8åˆ— |
| ç§äººèƒŒåŒ… | 40æ ¼ | 5è¡Œ Ã— 8åˆ— |

### ç‰©å“æ¥å£

```typescript
interface KnapsackItem {
    itemName: string;    // ç‰©å“åç§°
    itemId: number;      // ç‰©å“ID
    charges: number;     // æ•°é‡/å±‚æ•°
    stackable: boolean;  // æ˜¯å¦å¯å †å 
    icon?: string;       // å›¾æ ‡è·¯å¾„
}
```

### æ”¯æŒçš„ç‰©å“ç±»å‹

| ç‰©å“ID | åç§° | ç”¨é€” |
|--------|------|------|
| 1 | æ¼”æ­¦æ®‹å· | éšæœºè·å¾—æŠ€èƒ½ä¹¦ |
| 2 | é—®é“ç­¾ | æ‰“å¼€é€‰æ‹©ç•Œé¢ |
| 3 | è¡æ³•çµç¬º | å˜æ¢æŠ€èƒ½ |
| 4 | ç©ºç™½æ‹“æœ¬ | å‰¥ç¦»æŠ€èƒ½ |
| 5-8 | æ‚Ÿé“çŸ³ | å¼ºåŒ–æŠ€èƒ½ |

### å®¢æˆ·ç«¯äº‹ä»¶

| äº‹ä»¶ | æ–¹å‘ | ç”¨é€” |
|------|------|------|
| `backpack_use_item` | Câ†’S | ä½¿ç”¨ç‰©å“ |
| `backpack_swap_item` | Câ†’S | äº¤æ¢ç‰©å“ |
| `backpack_drop_item` | Câ†’S | ä¸¢å¼ƒç‰©å“ |
| `backpack_tidy_up` | Câ†’S | æ•´ç†èƒŒåŒ… |
| `backpack_decompose` | Câ†’S | åˆ†è§£ç‰©å“ |
| `backpack_updated` | Sâ†’C | èƒŒåŒ…æ•°æ®æ›´æ–° |

### å¾…ä¼˜åŒ–åŠŸèƒ½

- [ ] åˆ†è§£ç‰©å“åŠŸèƒ½ (`DecomposeItems`)
- [ ] åˆæˆè£…å¤‡åŠŸèƒ½ (`backpack_combine_equip`)
- [ ] åˆæˆæŠ€èƒ½åŠŸèƒ½ (`backpack_combine_skill`)
